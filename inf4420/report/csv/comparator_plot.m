close all;

f1 = figure;
f2 = figure;

axes1 = axes('Parent',f1);
hold(axes1,'on');

axes2 = axes('Parent',f2);
hold(axes2,'on');

% plot(INv_ref01X, INv_ref01Y, '-r', ...
%     outv_ref01X, outv_ref01Y, 'y', outv_ref02X, outv_ref02Y, 'm', outv_ref03X, outv_ref03Y, 'c', ...
%     outv_ref04X, outv_ref04Y, 'k', outv_ref05X, outv_ref05Y, 'g', outv_ref06X, outv_ref06Y, 'b', ...
%     outv_ref07X, outv_ref07Y, 'y', outv_ref08X, outv_ref08Y, 'm', outv_ref09X, outv_ref09Y, 'c', ...
%     outv_ref1X, outv_ref1Y, 'k', outv_ref11X, outv_ref11Y, 'g', ...
%     REFv_ref01X, REFv_ref01Y, ':y', REFv_ref02X, REFv_ref02Y, ':m', REFv_ref03X, REFv_ref03Y, ':c', ...
%     REFv_ref04X, REFv_ref04Y, ':k', REFv_ref05X, REFv_ref05Y, ':g', REFv_ref06X, REFv_ref06Y, ':b', ...
%     REFv_ref07X, REFv_ref07Y, ':y', REFv_ref08X, REFv_ref08Y, ':m', REFv_ref09X, REFv_ref09Y, ':c', ...
%     REFv_ref1X, REFv_ref1Y, ':k', REFv_ref11X, REFv_ref11Y, ':g' ...
% );

figure(f1);

plot(INv_ref01X, INv_ref01Y, '-r', ...
    outv_ref01X, outv_ref01Y, 'y', outv_ref02X, outv_ref02Y, 'm', outv_ref03X, outv_ref03Y, 'c', ...
    outv_ref04X, outv_ref04Y, 'k', outv_ref05X, outv_ref05Y, 'g', outv_ref06X, outv_ref06Y, 'b', ...
    REFv_ref01X, REFv_ref01Y, ':y', REFv_ref02X, REFv_ref02Y, ':m', REFv_ref03X, REFv_ref03Y, ':c', ...
    REFv_ref04X, REFv_ref04Y, ':k', REFv_ref05X, REFv_ref05Y, ':g', REFv_ref06X, REFv_ref06Y, ':b' ...
);


legend('Vin = 1.2V_{p-p}', ...
    'Vref = 100mV', 'Vref = 200mV', 'Vref = 300mV', ...
    'Vref = 400mV', 'Vref = 500mV', 'Vref = 600mV', ... 
    'Location','northwest');

xlabel('Time [S]');
ylabel('Voltage [V]');

title('Comparator thresholds at different references \leq 600mV');
ylim(axes1,[0 1.2]);
xlim(axes1,[0 0.0001]);
%xlim(axes1,[0.00004 0.0001]);
box(axes1,'on');


figure(f2);

plot(INv_ref01X, INv_ref01Y, '-r', ...
    outv_ref07X, outv_ref07Y, 'y', outv_ref08X, outv_ref08Y, 'm', outv_ref09X, outv_ref09Y, 'c', ...
    outv_ref1X, outv_ref1Y, 'k', outv_ref11X, outv_ref11Y, 'g', ...
    REFv_ref07X, REFv_ref07Y, ':y', REFv_ref08X, REFv_ref08Y, ':m', REFv_ref09X, REFv_ref09Y, ':c', ...
    REFv_ref1X, REFv_ref1Y, ':k', REFv_ref11X, REFv_ref11Y, ':g' ...
);


legend('Vin = 1.2V_{p-p}', ...
    'Vref = 700mV', 'Vref = 800mV', 'Vref = 900mV', ...
    'Vref = 1000mV', 'Vref = 1100mV', ...
    'Location','northeast');

xlabel('Time [S]');
ylabel('Voltage [V]');

title('Comparator thresholds at different references > 600mV');
ylim(axes2,[0 1.2]);
xlim(axes2,[0 0.0001]);
%xlim(axes2,[0 0.00005]);
box(axes2,'on');


